# python-socket
python下的socket编程，写了一个socket代理，伪装成客户端与对方服务器进行交互。

工程最初目的是破解一个客户端软件HTTPS通讯中的明文，破解对方交互的加密方式，客户端将socket转发到线下部署的Server上，Server进行数据分析和破解。
这里的代码主要是Server这部分。

工程中包括两个文件：
1、ssl_proxy_main.py, 主要功能是通过端口监听，拿到对应的socket，解析socket的内容。这里包括以下两点：
    1.1、由于只是监听了443端口，因此并不知道获取的sock是从客户端发送过来还是对方的服务器发送过来，需要进行判断，因此在代码中的run函数中，进行了来源判断。
    1.2、如果是客户端发送过来的，进行socket封装，转发到对方的服务器上。如果是对方服务端发送过来的，则发送到客户端上。
    1.3、如何知道要发送给对方的哪个服务器呢，或者说如何拿到对方服务器HOST list呢？我们从socket中可以拿到Server host list。

2、ssl_proxy_data.py, 主要功能为破解加密，这里的代码主要是客户端拿到了gSecretKey，在拿到了socket的内容之后需要破解成明文，这里做了多次尝试，对称加密、不对称加密等方法。

总体来说：
    破解客户端是一个较复杂事情，因为公钥私钥很难揣摩，Windows上有成熟工具，可以在内存中查找，但是找到的一些类似的密钥也很难保证是正确的。
    我在代码中使用了thread,主要是需要保证多个客户端请求代理服务器。
    如果只是想要写简单的socket编程练习，ssl_proxy_main.py文件进行简单修改就可以，删除无用的代码。
